@page
@model WebApplication1.Pages.Products.IndexModel

@{
    ViewData["Title"] = "Index";
}

<h1>Index</h1>

<p>
    <a asp-page="Create">Create New</a>
</p>
<form method="get">
    <div class="grid gap-6 mb-6 md:grid-cols-2">

        <div class="mb-6">
            <input asp-for="SearchString" placeholder="Search by name" type="text" id="default-input" class="bg-gray-700 border-gray-500 placeholder-gray-400 text-white focus:ring-blue-500 focus:border-blue-500 text-sm rounded-lg block w-full p-2.5 ">
        </div>

        <div class="mb-6">
            <select asp-for="SelectedCategory" class="bg-gray-700 border-gray-500 text-white focus:ring-blue-500 focus:border-blue-500 text-sm rounded-lg w-full p-2.5">
                <option value="">All Categories</option>
                @foreach (var category in Model.Product.Select(p => p.Categorie).Distinct())
                {
                    <option value="@category">@category</option>
                }
            </select>
        </div>
    </div>
    <button type="submit" class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">Search</button>
    
</form>
@* <table class="table text-white"> *@
@*     <thead> *@
@*         <tr> *@
@*             <th> *@
@*                 @Html.DisplayNameFor(model => model.Product[0].Name) *@
@*             </th> *@
@*             <th> *@
@*                 @Html.DisplayNameFor(model => model.Product[0].Description) *@
@*             </th> *@
@*             <th> *@
@*                 @Html.DisplayNameFor(model => model.Product[0].Categorie) *@
@*             </th> *@
@*             <th> *@
@*                 @Html.DisplayNameFor(model => model.Product[0].Price) *@
@*             </th> *@
@*             <th></th> *@
@*         </tr> *@
@*     </thead> *@
@*     <tbody> *@
@* @foreach (var item in Model.Product) { *@
@*         <tr> *@
@*             <td> *@
@*                 @Html.DisplayFor(modelItem => item.Name) *@
@*             </td> *@
@*             <td> *@
@*                 @Html.DisplayFor(modelItem => item.Description) *@
@*             </td> *@
@*             <td> *@
@*                 @Html.DisplayFor(modelItem => item.Categorie) *@
@*             </td> *@
@*             <td> *@
@*                 @Html.DisplayFor(modelItem => item.Price) *@
@*             </td> *@
@*             <td> *@
@*                 <a asp-page="./Edit" asp-route-id="@item.Id">Edit</a> | *@
@*                 <a asp-page="./Details" asp-route-id="@item.Id">Details</a> | *@
@*                 <a asp-page="./Delete" asp-route-id="@item.Id">Delete</a> *@
@*             </td> *@
@*         </tr> *@
@* } *@
@*     </tbody> *@
@* </table> *@

<section
    id="Projects"
    class="w-fit mx-auto grid grid-cols-1 lg:grid-cols-3 md:grid-cols-2 justify-items-center justify-center gap-y-20 gap-x-14 mt-10 mb-5">
    
@foreach (var item in Model.Product)
{   
    <div class="w-full max-w-sm border rounded-lg shadow bg-gray-800 border-gray-700">
        <a href="#">
            @* show image if not set show emtpty.jpeg *@
            @if (item.Image != null)
            {
                <img src="~/images/uploads/@Url.Content(item.Image)" class="w-full h-56 object-cover" />
                
            }
            else
            {
                <img src="~/images/uploads/empty.jpeg" class="w-full h-56 object-cover" />
               
            }
        </a>
        <div class="px-5 pb-5">
            <a href="#">
                
                <h4 class="text-xl font-semibold tracking-tight text-white">@Html.DisplayFor(modelItem => item.Name)</h4>
                <h5 class="text-xl font-semibold tracking-tight text-white">@Html.DisplayFor(modelItem => item.Description)</h5>
            </a>
            <div class=" grid grid-cols-1">
                <div class="">
                <span class="text-xl font-bold text-white">$@Html.DisplayFor(modelItem => item.Price)</span>
                    
                </div>
                <button class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">
                    Add to Cart
                </button>
                <a asp-page="./Delete" asp-route-id="@item.Id">Delete</a>
            </div>
        </div>
    </div>
}


</section>
